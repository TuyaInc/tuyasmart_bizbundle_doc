
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>IPC Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../scene/" />
    
    
    <link rel="prev" href="../panel/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../prepare.html">
            
                <a href="../prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../access.html">
            
                <a href="../access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../biznav.html">
            
                <a href="../biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../mall/">
            
                <a href="../mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../activator/">
            
                <a href="../activator/">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../panel/">
            
                <a href="../panel/">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.4" data-path="./">
            
                <a href="./">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../scene/">
            
                <a href="../scene/">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../cloud_service/">
            
                <a href="../cloud_service/">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../faq/">
            
                <a href="../faq/">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../message/">
            
                <a href="../message/">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../family/">
            
                <a href="../family/">
            
                    
                    House Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../ota/">
            
                <a href="../ota/">
            
                    
                    OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../device_detail/">
            
                <a href="../device_detail/">
            
                    
                    Device Detail
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../faq.html">
            
                <a href="../faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../updates.html">
            
                <a href="../updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../versions.html">
            
                <a href="../versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../3_20_0/SUMMARY.html">
            
                <a href="../../3_20_0/SUMMARY.html">
            
                    
                    3.20.0
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../3_20_0/">
            
                <a href="../../3_20_0/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../3_20_0/pages/prepare.html">
            
                <a href="../../3_20_0/pages/prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../3_20_0/pages/access.html">
            
                <a href="../../3_20_0/pages/access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../../3_20_0/pages/biznav.html">
            
                <a href="../../3_20_0/pages/biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../../3_20_0/pages/mall/">
            
                <a href="../../3_20_0/pages/mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../../3_20_0/pages/activator/">
            
                <a href="../../3_20_0/pages/activator/">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="../../3_20_0/pages/panel/">
            
                <a href="../../3_20_0/pages/panel/">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="../../3_20_0/pages/ipc_panel/">
            
                <a href="../../3_20_0/pages/ipc_panel/">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="../../3_20_0/pages/scene/">
            
                <a href="../../3_20_0/pages/scene/">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="../../3_20_0/pages/cloud_service/">
            
                <a href="../../3_20_0/pages/cloud_service/">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="../../3_20_0/pages/faq/">
            
                <a href="../../3_20_0/pages/faq/">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="../../3_20_0/pages/message/">
            
                <a href="../../3_20_0/pages/message/">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../../3_20_0/pages/faq.html">
            
                <a href="../../3_20_0/pages/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../../3_20_0/pages/updates.html">
            
                <a href="../../3_20_0/pages/updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../../3_20_0/pages/versions.html">
            
                <a href="../../3_20_0/pages/versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../3_17_0/SUMMARY.html">
            
                <a href="../../3_17_0/SUMMARY.html">
            
                    
                    3.17.0
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../3_17_0/">
            
                <a href="../../3_17_0/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../3_17_0/pages/prepare.html">
            
                <a href="../../3_17_0/pages/prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../3_17_0/pages/access.html">
            
                <a href="../../3_17_0/pages/access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../../3_17_0/pages/biznav.html">
            
                <a href="../../3_17_0/pages/biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="../../3_17_0/pages/mall/">
            
                <a href="../../3_17_0/pages/mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="../../3_17_0/pages/activator/">
            
                <a href="../../3_17_0/pages/activator/">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="../../3_17_0/pages/panel/">
            
                <a href="../../3_17_0/pages/panel/">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.4" data-path="../../3_17_0/pages/ipc_panel/">
            
                <a href="../../3_17_0/pages/ipc_panel/">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.5" data-path="../../3_17_0/pages/scene/">
            
                <a href="../../3_17_0/pages/scene/">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.6" data-path="../../3_17_0/pages/cloud_service/">
            
                <a href="../../3_17_0/pages/cloud_service/">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.7" data-path="../../3_17_0/pages/faq/">
            
                <a href="../../3_17_0/pages/faq/">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.8" data-path="../../3_17_0/pages/message/">
            
                <a href="../../3_17_0/pages/message/">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../../3_17_0/pages/faq.html">
            
                <a href="../../3_17_0/pages/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../../3_17_0/pages/updates.html">
            
                <a href="../../3_17_0/pages/updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../../3_17_0/pages/versions.html">
            
                <a href="../../3_17_0/pages/versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >IPC</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
<div style="font-size: 20px; display:flex;justify-content: center;color: red;">This document is deprecated, please go to Tuya Developer Documentation Center to view the latest version: <a href="https://developer.tuya.com/en/docs/app-development">Tuya Smart Doc</a></div>
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#tuyasmart-ios-ipc-biz-bundle"><b>1. </b>TuyaSmart iOS IPC biz Bundle</a></li><ul><li><span class="title-icon "></span><a href="#functional-overview"><b>1.1. </b>Functional Overview</a></li><li><span class="title-icon "></span><a href="#integrate"><b>1.2. </b>Integrate</a></li><li><span class="title-icon "></span><a href="#service-protocol"><b>1.3. </b>Service Protocol</a></li><ul><li><span class="title-icon "></span><a href="#provide-service"><b>1.3.1. </b>Provide Service</a></li><li><span class="title-icon "></span><a href="#dependent-services"><b>1.3.2. </b>Dependent Services</a></li></ul><li><span class="title-icon "></span><a href="#guidance"><b>1.4. </b>Guidance</a></li><ul><li><span class="title-icon "></span><a href="#attention"><b>1.4.1. </b>Attention</a></li><li><span class="title-icon "></span><a href="#obtain-preview-panel-uiviewcontroller"><b>1.4.2. </b>Obtain Preview Panel (UIViewController)</a></li></ul></ul><li><span class="title-icon "></span><a href="#tuyasmart-ios-ipc-reactnative-biz-bundle"><b>2. </b>TuyaSmart iOS IPC ReactNative biz Bundle</a></li><ul><li><span class="title-icon "></span><a href="#functional-overview_1"><b>2.1. </b>Functional Overview</a></li><li><span class="title-icon "></span><a href="#integrate_1"><b>2.2. </b>Integrate</a></li><li><span class="title-icon "></span><a href="#service-protocol_1"><b>2.3. </b>Service Protocol</a></li><ul><li><span class="title-icon "></span><a href="#provide-service_1"><b>2.3.1. </b>Provide Service</a></li><li><span class="title-icon "></span><a href="#dependent-services_1"><b>2.3.2. </b>Dependent Services</a></li></ul><li><span class="title-icon "></span><a href="#guidance_1"><b>2.4. </b>Guidance</a></li><ul><li><span class="title-icon "></span><a href="#attention_1"><b>2.4.1. </b>Attention</a></li><li><span class="title-icon "></span><a href="#register-tyrncameraprotocol-protocol"><b>2.4.2. </b>register TYRNCameraProtocol protocol</a></li><li><span class="title-icon "></span><a href="#obtain-preview-panel-uiviewcontroller_1"><b>2.4.3. </b>Obtain Preview Panel (UIViewController)</a></li></ul></ul><li><span class="title-icon "></span><a href="#camera-setting-panel-biz-bundle"><b>3. </b>Camera Setting Panel biz Bundle</a></li><ul><li><span class="title-icon "></span><a href="#functional-overview_2"><b>3.1. </b>Functional overview</a></li><li><span class="title-icon "></span><a href="#integrate_2"><b>3.2. </b>Integrate</a></li><li><span class="title-icon "></span><a href="#service-protocol_2"><b>3.3. </b>Service Protocol</a></li><ul><li><span class="title-icon "></span><a href="#provide-service_2"><b>3.3.1. </b>Provide Service</a></li><li><span class="title-icon "></span><a href="#attention_2"><b>3.3.2. </b>Attention</a></li><li><span class="title-icon "></span><a href="#register-tycamerasettingprotocol-protocol"><b>3.3.3. </b>Register TYCameraSettingProtocol protocol.</a></li></ul></ul></ul></div><a href="#tuyasmart-ios-ipc-biz-bundle" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><ul>
<li><a href="#native">TuyaSmart iOS IPC biz Bundle</a></li>
<li><a href="#rn">TuyaSmart iOS IPC ReactNative biz Bundle</a></li>
<li><a href="#cameraSetiing">TuyaSmart iOS IPC Setting biz Bundle</a></li>
</ul>
<p><span id="native"></span></p>
<h1 id="tuyasmart-ios-ipc-biz-bundle"><a name="tuyasmart-ios-ipc-biz-bundle" class="anchor-navigation-ex-anchor" href="#tuyasmart-ios-ipc-biz-bundle"><i class="fa fa-link" aria-hidden="true"></i></a>1. TuyaSmart iOS IPC biz Bundle</h1>
<h2 id="functional-overview"><a name="functional-overview" class="anchor-navigation-ex-anchor" href="#functional-overview"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Functional Overview</h2>
<p>TuyaSmart iOS IPC biz Bundle is a series of panel SDK related to camera functions developed based on <a href="https://tuyainc.github.io/tuyasmart_camera_ios_sdk_doc/" target="_blank">Tuya Smart Camera SDK</a>. It mainly includes the following functions:</p>
<p>-Preview panel, playback panel, cloud storage panel, message center panel, album panel, settings panel.</p>
<h2 id="integrate"><a name="integrate" class="anchor-navigation-ex-anchor" href="#integrate"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Integrate</h2>
<p>Add the following code to the <code>Podfile</code> file:</p>
<pre class="language-"><code class="lang-ruby">source <span class="token string">&quot;https://github.com/TuyaInc/TuyaPublicSpecs.git&quot;</span>
source <span class="token string">&apos;https://cdn.cocoapods.org/&apos;</span>

target <span class="token string">&apos;your_target_name&apos;</span> <span class="token keyword">do</span>
  <span class="token comment"># add cameraBizBundle</span>
  pod <span class="token string">&apos;TuyaSmartCameraPanelBizBundle&apos;</span>
<span class="token keyword">end</span>
</code></pre>
<p>Then execute the <code>pod update</code> command in the project root directory to integrate third-party libraries.</p>
<p>Please refer to the use of CocoaPods: <a href="https://guides.cocoapods.org/" target="_blank">CocoaPods Guides</a></p>
<p><strong>Note</strong></p>
<p>The BizBundle encapsulates a series of RN interfaces for the panel to call, which will involve some of Apple&apos;s privacy rights statements.</p>
<ul>
<li>If the connected device panel is related to the use of photo albums (for example: albums), you need to add the following permission statement in the project&apos;s <code>info.plist</code>:</li>
</ul>
<pre class="language-"><code>NSPhotoLibraryAddUsageDescription
</code></pre><ul>
<li>If the connected device panel uses a microphone (for example: camera talk), you need to add the following permission statement in the project&apos;s <code>info.plist</code>:</li>
</ul>
<pre class="language-"><code>NSMicrophoneUsageDescription
</code></pre><h2 id="service-protocol"><a name="service-protocol" class="anchor-navigation-ex-anchor" href="#service-protocol"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Service Protocol</h2>
<h3 id="provide-service"><a name="provide-service" class="anchor-navigation-ex-anchor" href="#provide-service"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.1. Provide Service</h3>
<p>BizBundle  provide services of  <code>TYCameraProtocol.h</code> in <code>TYModuleServices</code> component as follows:</p>
<pre class="language-"><code class="lang-objc"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>UIKit<span class="token operator">/</span>UIKit<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>

<span class="token keyword">@class</span> TuyaSmartDeviceModel<span class="token punctuation">;</span>

<span class="token keyword">@protocol</span> TYCameraProtocol <span class="token operator">&lt;</span>NSObject<span class="token operator">&gt;</span>

<span class="token comment">/**
 * jump to device camera Native panel
 *
 * @param deviceId       DeviceModel.devId
 * @param uiName         DeviceModel.uiName
 */</span>  
<span class="token operator">-</span> <span class="token punctuation">(</span>UIViewController <span class="token operator">*</span><span class="token punctuation">)</span>viewControllerWithDeviceId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>devId uiName<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>uiName<span class="token punctuation">;</span>

<span class="token operator">@</span>optional

<span class="token comment">/**
 jump to device camera playback panel
 @param deviceModel DeviceModel
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceGotoCameraNewPlayBackPanel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel<span class="token punctuation">;</span>

<span class="token comment">/**
 jump to device camera CloudStorage panel
 @param deviceModel DeviceModel
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceGotoCameraCloudStoragePanel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel<span class="token punctuation">;</span>

<span class="token comment">/**
 jump to device camera CameraMessageCenter panel
 @param deviceModel DeviceModel
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceGotoCameraMessageCenterPanel<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel<span class="token punctuation">;</span>

<span class="token comment">/**
 jump to device camera PhotoLibrary panel
 @param deviceModel DeviceModel
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deviceGotoPhotoLibrary<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel<span class="token punctuation">;</span>

<span class="token keyword">@end</span>
</code></pre>
<h3 id="dependent-services"><a name="dependent-services" class="anchor-navigation-ex-anchor" href="#dependent-services"><i class="fa fa-link" aria-hidden="true"></i></a>1.3.2. Dependent Services</h3>
<p>The main function of the biz bundle is to load the device, and there will be different functions for different devices. To ensure the normal operation of these functions, it will rely on the following protocols&#xFF1A; <code>TYSmartHomeDataProtocol</code> &#x3001; <code>TYOTAGeneralProtocol</code>&#x3002;</p>
<h4 id="tysmarthomedataprotocol"><a name="tysmarthomedataprotocol" class="anchor-navigation-ex-anchor" href="#tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tysmarthomedataprotocol" class="plugin-anchor" href="#tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a>TYSmartHomeDataProtocol</h4>
<p>Provide the current family information required to load the device panel, <strong>must be implemented</strong></p>
<pre class="language-"><code class="lang-objc"><span class="token comment">/**
 Get the current family. If there is no family, return nil.

 @return TuyaSmartHome
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>getCurrentHome<span class="token punctuation">;</span>
</code></pre>
<h4 id="tyotageneralprotocol"><a name="tyotageneralprotocol" class="anchor-navigation-ex-anchor" href="#tyotageneralprotocol"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tyotageneralprotocol" class="plugin-anchor" href="#tyotageneralprotocol"><i class="fa fa-link" aria-hidden="true"></i></a>TYOTAGeneralProtocol</h4>
<p>When entering the device panel, provide an event to check the device firmware update. Implement the following method to check the firmware upgrade:</p>
<pre class="language-"><code class="lang-objc"><span class="token comment">/**
 Check the device firmware update, if there is an update, it will display the firmware update prompt

 @param deviceModel DeviceModel
 @param isManual Whether to manually detect the upgrade
 @param theme theme color
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>checkFirmwareUpgrade<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel isManual<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isManual theme<span class="token punctuation">:</span><span class="token punctuation">(</span>TYOTAControllerTheme<span class="token punctuation">)</span>theme<span class="token punctuation">;</span>
</code></pre>
<h2 id="guidance"><a name="guidance" class="anchor-navigation-ex-anchor" href="#guidance"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Guidance</h2>
<h3 id="attention"><a name="attention" class="anchor-navigation-ex-anchor" href="#attention"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.1. Attention</h3>
<ol>
<li>Make sure that the user is logged in before using any interface.</li>
<li>This interface is only fit for camera device, which device.deviceModel.category is &apos;sp&apos;.</li>
<li>Before using bizbundle&#xFF0C;must  implement the protocol method <code>getCurrentHome</code> in <code>TYSmartHomeDataProtocol</code>.</li>
<li>This business package is mutually exclusive with the previous TuyaSmartCameraPanelSDK. The two cannot coexist. Please check the <a href="https://tuyainc.github.io/tuyasmart_camera_panel_ios_sdk_doc/en/Upgrading.html" target="_blank">Migration Guide</a>.</li>
</ol>
<p>Objective-C </p>
<pre class="language-"><code class="lang-objc"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TuyaSmartBizCore<span class="token operator">/</span>TuyaSmartBizCore<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TYModuleServices<span class="token operator">/</span>TYSmartHomeDataProtocol<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initCurrentHome <span class="token punctuation">{</span>
    <span class="token comment">// register service</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> registerService<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYSmartHomeDataProtocol<span class="token punctuation">)</span> withInstance<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// implementation</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>getCurrentHome <span class="token punctuation">{</span>
    TuyaSmartHome <span class="token operator">*</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span><span class="token string">@&quot;current hid&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> home<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">import</span> <span class="token builtin">TuyaSmartDeviceKit</span>

<span class="token keyword">class</span> <span class="token class-name">TYActivatorTest</span><span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">{</span>

    <span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerService</span><span class="token punctuation">(</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> withInstance<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function">getCurrentHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> home <span class="token operator">=</span> <span class="token builtin">TuyaSmartHome</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>homeId<span class="token punctuation">:</span> <span class="token number">111</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> home
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h3 id=""><a name="" class="plugin-anchor" href="#"><i class="fa fa-link" aria-hidden="true"></i></a> </h3>
<h3 id="obtain-preview-panel-uiviewcontroller"><a name="obtain-preview-panel-uiviewcontroller" class="anchor-navigation-ex-anchor" href="#obtain-preview-panel-uiviewcontroller"><i class="fa fa-link" aria-hidden="true"></i></a>1.4.2. Obtain Preview Panel (UIViewController)</h3>
<p>Camera native preview panel, including real-time video preview, sharpness switch, sound switch control, screenshot, recording, intercom and other functions, motion detection, PTZ direction control, favorite point addition / deletion, cruise control, etc.</p>
<p>Objc</p>
<pre class="language-"><code class="lang-objc">id<span class="token operator">&lt;</span>TYCameraProtocol<span class="token operator">&gt;</span> impl <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> serviceOfProtocol<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYCameraProtocol<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
UIViewController <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span>impl viewControllerWithDeviceId<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceModel<span class="token punctuation">.</span>devId uiName<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>device<span class="token punctuation">.</span>uiName<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>navigationController pushViewController<span class="token punctuation">:</span>vc animated<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">let</span> impl <span class="token operator">=</span> <span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token builtin">TYCameraProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token builtin">TYCameraProtocol</span>
impl<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">viewControllerWithDeviceId</span><span class="token punctuation">(</span>withDeviceId<span class="token punctuation">:</span> deviceModel<span class="token punctuation">.</span>devId<span class="token operator">!</span><span class="token punctuation">,</span> uiName<span class="token punctuation">:</span> deviceModel<span class="token punctuation">.</span>uiName<span class="token punctuation">)</span>
</code></pre>
<p><span id="rn"></span></p>
<h1 id="tuyasmart-ios-ipc-reactnative-biz-bundle"><a name="tuyasmart-ios-ipc-reactnative-biz-bundle" class="anchor-navigation-ex-anchor" href="#tuyasmart-ios-ipc-reactnative-biz-bundle"><i class="fa fa-link" aria-hidden="true"></i></a>2. TuyaSmart iOS IPC ReactNative biz Bundle</h1>
<h2 id="functional-overview_1"><a name="functional-overview_1" class="anchor-navigation-ex-anchor" href="#functional-overview_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. Functional Overview</h2>
<p>TuyaSmart iOS IPC ReactNatice biz Bundle is a series of panel SDK related to camera functions developed based on <a href="https://tuyainc.github.io/tuyasmart_camera_ios_sdk_doc/" target="_blank">Tuya Smart Camera SDK</a>. It mainly includes the following functions:</p>
<p>-Preview panel, playback panel, cloud storage panel, message center panel, album panel, settings panel.</p>
<h2 id="integrate_1"><a name="integrate_1" class="anchor-navigation-ex-anchor" href="#integrate_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. Integrate</h2>
<p>Add the following code to the <code>Podfile</code> file:</p>
<pre class="language-"><code class="lang-ruby">source <span class="token string">&quot;https://github.com/TuyaInc/TuyaPublicSpecs.git&quot;</span>
source <span class="token string">&apos;https://cdn.cocoapods.org/&apos;</span>

target <span class="token string">&apos;your_target_name&apos;</span> <span class="token keyword">do</span>
    <span class="token comment"># Adding the camera panel service pack Connecting to the RN page bread also connects to this service pack, so that native albums and other functions can also be used.</span>
  pod <span class="token string">&apos;TuyaSmartCameraPanelBizBundle&apos;</span>
  <span class="token comment"># add cameraRNPanelBizBundle</span>
  pod <span class="token string">&apos;TuyaSmartCameraRNPanelBizBundle&apos;</span>
<span class="token keyword">end</span>
</code></pre>
<p>Then execute the <code>pod update</code> command in the project root directory to integrate third-party libraries.</p>
<p>Please refer to the use of CocoaPods: <a href="https://guides.cocoapods.org/" target="_blank">CocoaPods Guides</a></p>
<p><strong>Note</strong></p>
<p>The BizBundle encapsulates a series of RN interfaces for the panel to call, which will involve some of Apple&apos;s privacy rights statements.</p>
<ul>
<li>If the connected device panel is related to the use of photo albums (for example: albums), you need to add the following permission statement in the project&apos;s <code>info.plist</code>:</li>
</ul>
<pre class="language-"><code>NSPhotoLibraryAddUsageDescription
</code></pre><ul>
<li>If the connected device panel uses a microphone (for example: camera talk), you need to add the following permission statement in the project&apos;s <code>info.plist</code>:</li>
</ul>
<pre class="language-"><code>NSMicrophoneUsageDescription
</code></pre><h2 id="service-protocol_1"><a name="service-protocol_1" class="anchor-navigation-ex-anchor" href="#service-protocol_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.3. Service Protocol</h2>
<h3 id="provide-service_1"><a name="provide-service_1" class="anchor-navigation-ex-anchor" href="#provide-service_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.3.1. Provide Service</h3>
<p>BizBundle  provide services of  <code>TYRNCameraProtocol.h</code> in <code>TYModuleServices</code> component as follows:</p>
<pre class="language-"><code class="lang-objc"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>UIKit<span class="token operator">/</span>UIKit<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>

<span class="token keyword">@protocol</span> TYRNCameraProtocol <span class="token operator">&lt;</span>NSObject<span class="token operator">&gt;</span>

<span class="token comment">/**
 obtain camera RN Panel
 @param devId deviceModel.devId
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>UIViewController <span class="token operator">*</span><span class="token punctuation">)</span>cameraRNPanelViewControllerWithDeviceId<span class="token punctuation">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>devId<span class="token punctuation">;</span>

<span class="token keyword">@end</span>
</code></pre>
<h3 id="dependent-services_1"><a name="dependent-services_1" class="anchor-navigation-ex-anchor" href="#dependent-services_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.3.2. Dependent Services</h3>
<p>The main function of the biz bundle is to load the device, and there will be different functions for different devices. To ensure the normal operation of these functions, it will rely on the following protocols&#xFF1A; <code>TYSmartHomeDataProtocol</code> &#x3001; <code>TYOTAGeneralProtocol</code>&#x3002;</p>
<h4 id="tysmarthomedataprotocol_1"><a name="tysmarthomedataprotocol_1" class="anchor-navigation-ex-anchor" href="#tysmarthomedataprotocol_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tysmarthomedataprotocol" class="plugin-anchor" href="#tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a>TYSmartHomeDataProtocol</h4>
<p>Provide the current family information required to load the device panel, <strong>must be implemented</strong></p>
<pre class="language-"><code class="lang-objc"><span class="token comment">/**
 Get the current family. If there is no family, return nil.

 @return TuyaSmartHome
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>getCurrentHome<span class="token punctuation">;</span>
</code></pre>
<h4 id="tyotageneralprotocol_1"><a name="tyotageneralprotocol_1" class="anchor-navigation-ex-anchor" href="#tyotageneralprotocol_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tyotageneralprotocol" class="plugin-anchor" href="#tyotageneralprotocol"><i class="fa fa-link" aria-hidden="true"></i></a>TYOTAGeneralProtocol</h4>
<p>When entering the device panel, provide an event to check the device firmware update. Implement the following method to check the firmware upgrade:</p>
<pre class="language-"><code class="lang-objc"><span class="token comment">/**
 Check the device firmware update, if there is an update, it will display the firmware update prompt

 @param deviceModel DeviceModel
 @param isManual Whether to manually detect the upgrade
 @param theme theme color
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>checkFirmwareUpgrade<span class="token punctuation">:</span><span class="token punctuation">(</span>TuyaSmartDeviceModel <span class="token operator">*</span><span class="token punctuation">)</span>deviceModel isManual<span class="token punctuation">:</span><span class="token punctuation">(</span>BOOL<span class="token punctuation">)</span>isManual theme<span class="token punctuation">:</span><span class="token punctuation">(</span>TYOTAControllerTheme<span class="token punctuation">)</span>theme<span class="token punctuation">;</span>
</code></pre>
<h2 id="guidance_1"><a name="guidance_1" class="anchor-navigation-ex-anchor" href="#guidance_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.4. Guidance</h2>
<h3 id="attention_1"><a name="attention_1" class="anchor-navigation-ex-anchor" href="#attention_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.1. Attention</h3>
<ol>
<li>Make sure that the user is logged in before using any interface.</li>
<li>This interface is only fit for camera device, which device.deviceModel.category is &apos;sp&apos;.</li>
<li>Before using bizbundle&#xFF0C;must  implement the protocol method <code>getCurrentHome</code> in <code>TYSmartHomeDataProtocol</code>.</li>
<li>After accessing this service pack, you must also access the <code>TuyaSmartCameraPanelBizBundle</code> service pack, because some related function codes (such as camera album panel codes, etc.) are included in this service pack.</li>
</ol>
<p>Objective-C </p>
<pre class="language-"><code class="lang-objc"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TuyaSmartBizCore<span class="token operator">/</span>TuyaSmartBizCore<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TYModuleServices<span class="token operator">/</span>TYSmartHomeDataProtocol<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>

<span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initCurrentHome <span class="token punctuation">{</span>
    <span class="token comment">// register service</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> registerService<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYSmartHomeDataProtocol<span class="token punctuation">)</span> withInstance<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// implementation</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>getCurrentHome <span class="token punctuation">{</span>
    TuyaSmartHome <span class="token operator">*</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span><span class="token string">@&quot;current home id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> home<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swift</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">import</span> <span class="token builtin">TuyaSmartDeviceKit</span>

<span class="token keyword">class</span> <span class="token class-name">TYActivatorTest</span><span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">{</span>

    <span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerService</span><span class="token punctuation">(</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> withInstance<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function">getCurrentHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> home <span class="token operator">=</span> <span class="token builtin">TuyaSmartHome</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>homeId<span class="token punctuation">:</span> <span class="token number">111</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> home
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h3 id="register-tyrncameraprotocol-protocol"><a name="register-tyrncameraprotocol-protocol" class="anchor-navigation-ex-anchor" href="#register-tyrncameraprotocol-protocol"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.2. register TYRNCameraProtocol protocol</h3>
<p><strong>Note</strong></p>
<p>The protocol method of <code>TYRNCameraProtocol</code> only needs to be registered and implemented by yourself if you need to implement a custom camera RN panel (to return to a custom camera panel), the default <code>TuyaSmartPanelBizBundle</code> service pack has the corresponding implementation logic.</p>
<p>Objc</p>
<pre class="language-"><code class="lang-objc"><span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> registerService<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYRNCameraProtocol<span class="token punctuation">)</span> withInstance<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift</p>
<pre class="language-"><code class="lang-swift"><span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerService</span><span class="token punctuation">(</span><span class="token builtin">TYRNCameraProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> withInstance<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="obtain-preview-panel-uiviewcontroller_1"><a name="obtain-preview-panel-uiviewcontroller_1" class="anchor-navigation-ex-anchor" href="#obtain-preview-panel-uiviewcontroller_1"><i class="fa fa-link" aria-hidden="true"></i></a>2.4.3. Obtain Preview Panel (UIViewController)</h3>
<p>Camera react-native preview panel, including real-time video preview, sharpness switch, sound switch control, screenshot, recording, intercom and other functions, motion detection, PTZ direction control, favorite point addition / deletion, cruise control, etc.</p>
<p>Objc</p>
<pre class="language-"><code class="lang-objc">id<span class="token operator">&lt;</span>TYRNCameraProtocol<span class="token operator">&gt;</span> impl <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> serviceOfProtocol<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYRNCameraProtocol<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
UIViewController <span class="token operator">*</span>vc <span class="token operator">=</span> <span class="token punctuation">[</span>impl cameraRNPanelViewControllerWithDeviceId<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">.</span>deviceModel<span class="token punctuation">.</span>devId<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span><span class="token keyword">self</span><span class="token punctuation">.</span>navigationController pushViewController<span class="token punctuation">:</span>vc animated<span class="token punctuation">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">let</span> impl <span class="token operator">=</span> <span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">service</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> <span class="token builtin">TYRNCameraProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">?</span> <span class="token builtin">TYRNCameraProtocol</span>
impl<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">cameraRNPanelViewControllerWithDeviceId</span><span class="token punctuation">(</span>withDeviceId<span class="token punctuation">:</span> deviceModel<span class="token punctuation">.</span>devId<span class="token operator">!</span><span class="token punctuation">)</span>
</code></pre>
<p><span id="cameraSetiing"></span></p>
<h1 id="camera-setting-panel-biz-bundle"><a name="camera-setting-panel-biz-bundle" class="anchor-navigation-ex-anchor" href="#camera-setting-panel-biz-bundle"><i class="fa fa-link" aria-hidden="true"></i></a>3. Camera Setting Panel biz Bundle</h1>
<h2 id="functional-overview_2"><a name="functional-overview_2" class="anchor-navigation-ex-anchor" href="#functional-overview_2"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. Functional overview</h2>
<p>The Tuya Smart iOS IPC Setting Business Kit (TuyaSmartCameraSettingBizBundle) is based on the <a href="https://tuyainc.github.io/tuyasmart_camera_ios_sdk _doc/" target="_blank">Tuya Smart Camera SDK</a> developed a series of panels related to common camera settings, etc. The main features include the following.</p>
<ul>
<li>Device details, basic settings, memory card settings, value-added services, other, reboot, etc.</li>
</ul>
<h2 id="integrate_2"><a name="integrate_2" class="anchor-navigation-ex-anchor" href="#integrate_2"><i class="fa fa-link" aria-hidden="true"></i></a>3.2. Integrate</h2>
<p>Add the following code to the <code>Podfile</code> file.</p>
<pre class="language-"><code class="lang-ruby">source <span class="token string">&quot;https://github.com/TuyaInc/TuyaPublicSpecs.git&quot;</span>
source <span class="token string">&apos;https://cdn.cocoapods.org/&apos;</span>

target <span class="token string">&apos;your_target_name&apos;</span> <span class="token keyword">do</span>
  <span class="token comment"># add SmartCameraSettingBizBundle</span>
  pod <span class="token string">&apos;TuyaSmartCameraSettingBizBundle&apos;</span>
<span class="token keyword">end</span>
</code></pre>
<p>Then execute the command <code>pod update</code> in the project root directory to integrate third-party libraries.</p>
<p>To use CocoaPods, please refer to: <a href="https://guides.cocoapods.org/" target="_blank">CocoaPods Guides</a>.</p>
<h2 id="service-protocol_2"><a name="service-protocol_2" class="anchor-navigation-ex-anchor" href="#service-protocol_2"><i class="fa fa-link" aria-hidden="true"></i></a>3.3. Service Protocol</h2>
<h3 id="provide-service_2"><a name="provide-service_2" class="anchor-navigation-ex-anchor" href="#provide-service_2"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.1. Provide Service</h3>
<p>The camera setting biz bundle implements the <code>TYCameraSettingProtocol</code> protocol to provide services, view the <code>TYCameraSettingProtocol.h</code> protocol file in the <code>TYModuleServices</code> component as follows.</p>
<pre class="language-"><code class="lang-objc"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>UIKit<span class="token operator">/</span>UIKit<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>

<span class="token keyword">@protocol</span> TYCameraSettingProtocol <span class="token operator">&lt;</span>NSObject<span class="token operator">&gt;</span>

<span class="token comment">/**
 Get Camera Settings Panel
 @param params camera settings page parameters (e.g. set the home page to @{@&quot;devId&quot; : device devID, @&quot;cameraSettingPanelIdentifier&quot; : @&quot;cameraSettingIndexIdentifier&quot;}).
 */</span>
<span class="token operator">-</span> <span class="token punctuation">(</span>UIViewController <span class="token operator">*</span><span class="token punctuation">)</span>settingViewControllerWithDeviceParams<span class="token punctuation">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>params<span class="token punctuation">;</span>

<span class="token keyword">@end</span>
</code></pre>
<h3 id="attention_2"><a name="attention_2" class="anchor-navigation-ex-anchor" href="#attention_2"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.2. Attention</h3>
<ol>
<li>Before using any interface, make sure that the device is under the current user. </li>
<li>This only applies to camera device calls, i.e. deviceModel.category is of type &quot;sp&quot;. </li>
<li>The camera settings are available by default after this package is connected. If you want to implement the camera setting panel by yourself, just register the following protocol to implement the proxy method.</li>
</ol>
<h3 id="register-tycamerasettingprotocol-protocol"><a name="register-tycamerasettingprotocol-protocol" class="anchor-navigation-ex-anchor" href="#register-tycamerasettingprotocol-protocol"><i class="fa fa-link" aria-hidden="true"></i></a>3.3.3. Register TYCameraSettingProtocol protocol.</h3>
<p><strong>Note</strong></p>
<p>The protocol method of <code>TYCameraSettingProtocol</code> only needs to be registered and implemented by yourself if you need to implement a custom camera setup panel (to return to the custom camera setup panel), the default <code>TuyaSmartCameraSettingBizBundle</code> package has a corresponding implementation inside. Logic.</p>
<p>Objc</p>
<pre class="language-"><code class="lang-objc"><span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> registerService<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYCameraSettingProtocol<span class="token punctuation">)</span> withInstance<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Swift</p>
<pre class="language-"><code class="lang-swift"><span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerService</span><span class="token punctuation">(</span><span class="token builtin">TYCameraSettingProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> withInstance<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../panel/" class="navigation navigation-prev " aria-label="Previous page: Device Control">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../scene/" class="navigation navigation-next " aria-label="Next page: Scene">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"IPC","level":"1.4.4","depth":2,"next":{"title":"Scene","level":"1.4.5","depth":2,"path":"pages/scene/README.md","ref":"./pages/scene/README.md","articles":[]},"previous":{"title":"Device Control","level":"1.4.3","depth":2,"path":"pages/panel/README.md","ref":"./pages/panel/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["addcssjs","richquotes","prism","-hightlight","anchors","js-sequence-diagram-full@>=0.3.1","splitter","github","anchor-navigation-ex","expandable-chapters-small","pageview-count","language-picker","hide-element"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":[]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_bizbundle_ios_doc"},"splitter":{},"search":{},"addcssjs":{"css":[],"js":["../scripts/mermaid.min.js","../scripts/index.js"]},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"pages/ipc_panel/README.md","mtime":"2021-03-12T03:17:09.141Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-03-12T03:18:11.324Z"},"basePath":"../..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    
    <script type="text/javascript" src="../../../scripts/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../scripts/index.js"></script>
    

    </body>
</html>

