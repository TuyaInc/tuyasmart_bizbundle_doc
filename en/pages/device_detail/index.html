
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Device Detail Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-richquotes/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../faq.html" />
    
    
    <link rel="prev" href="../ota/" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../prepare.html">
            
                <a href="../prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../access.html">
            
                <a href="../access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../biznav.html">
            
                <a href="../biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../mall/">
            
                <a href="../mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../activator/">
            
                <a href="../activator/">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../panel/">
            
                <a href="../panel/">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../ipc_panel/">
            
                <a href="../ipc_panel/">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../scene/">
            
                <a href="../scene/">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../cloud_service/">
            
                <a href="../cloud_service/">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../faq/">
            
                <a href="../faq/">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../message/">
            
                <a href="../message/">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../family/">
            
                <a href="../family/">
            
                    
                    House Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../ota/">
            
                <a href="../ota/">
            
                    
                    OTA
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.11" data-path="./">
            
                <a href="./">
            
                    
                    Device Detail
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../faq.html">
            
                <a href="../faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../updates.html">
            
                <a href="../updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../versions.html">
            
                <a href="../versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../3_20_0/SUMMARY.html">
            
                <a href="../../3_20_0/SUMMARY.html">
            
                    
                    3.20.0
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../3_20_0/">
            
                <a href="../../3_20_0/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../../3_20_0/pages/prepare.html">
            
                <a href="../../3_20_0/pages/prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../3_20_0/pages/access.html">
            
                <a href="../../3_20_0/pages/access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../../3_20_0/pages/biznav.html">
            
                <a href="../../3_20_0/pages/biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.4.1" data-path="../../3_20_0/pages/mall/">
            
                <a href="../../3_20_0/pages/mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.2" data-path="../../3_20_0/pages/activator/">
            
                <a href="../../3_20_0/pages/activator/">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.3" data-path="../../3_20_0/pages/panel/">
            
                <a href="../../3_20_0/pages/panel/">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.4" data-path="../../3_20_0/pages/ipc_panel/">
            
                <a href="../../3_20_0/pages/ipc_panel/">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.5" data-path="../../3_20_0/pages/scene/">
            
                <a href="../../3_20_0/pages/scene/">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.6" data-path="../../3_20_0/pages/cloud_service/">
            
                <a href="../../3_20_0/pages/cloud_service/">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.7" data-path="../../3_20_0/pages/faq/">
            
                <a href="../../3_20_0/pages/faq/">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4.8" data-path="../../3_20_0/pages/message/">
            
                <a href="../../3_20_0/pages/message/">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../../3_20_0/pages/faq.html">
            
                <a href="../../3_20_0/pages/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../../3_20_0/pages/updates.html">
            
                <a href="../../3_20_0/pages/updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../../3_20_0/pages/versions.html">
            
                <a href="../../3_20_0/pages/versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../../3_17_0/SUMMARY.html">
            
                <a href="../../3_17_0/SUMMARY.html">
            
                    
                    3.17.0
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../../3_17_0/">
            
                <a href="../../3_17_0/">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../../3_17_0/pages/prepare.html">
            
                <a href="../../3_17_0/pages/prepare.html">
            
                    
                    Prepare
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../../3_17_0/pages/access.html">
            
                <a href="../../3_17_0/pages/access.html">
            
                    
                    Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../../3_17_0/pages/biznav.html">
            
                <a href="../../3_17_0/pages/biznav.html">
            
                    
                    UI Biz Bundle Navigation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.4.1" data-path="../../3_17_0/pages/mall/">
            
                <a href="../../3_17_0/pages/mall/">
            
                    
                    H5 Mall
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.2" data-path="../../3_17_0/pages/activator/">
            
                <a href="../../3_17_0/pages/activator/">
            
                    
                    Device Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.3" data-path="../../3_17_0/pages/panel/">
            
                <a href="../../3_17_0/pages/panel/">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.4" data-path="../../3_17_0/pages/ipc_panel/">
            
                <a href="../../3_17_0/pages/ipc_panel/">
            
                    
                    IPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.5" data-path="../../3_17_0/pages/scene/">
            
                <a href="../../3_17_0/pages/scene/">
            
                    
                    Scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.6" data-path="../../3_17_0/pages/cloud_service/">
            
                <a href="../../3_17_0/pages/cloud_service/">
            
                    
                    Cloud Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.7" data-path="../../3_17_0/pages/faq/">
            
                <a href="../../3_17_0/pages/faq/">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4.8" data-path="../../3_17_0/pages/message/">
            
                <a href="../../3_17_0/pages/message/">
            
                    
                    Message Center
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../../3_17_0/pages/faq.html">
            
                <a href="../../3_17_0/pages/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../../3_17_0/pages/updates.html">
            
                <a href="../../3_17_0/pages/updates.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../../3_17_0/pages/versions.html">
            
                <a href="../../3_17_0/pages/versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Device Detail</a>
    </h1>
</div>




                    <div style="font-size: 20px; display:flex;justify-content: center;color: red;">This document is deprecated, please go to Tuya Developer Documentation Center to view the latest version: <a href="https://developer.tuya.com/en/docs/app-development">Tuya Smart Doc</a></div>
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#device-detail-bizbundle"><b>1. </b>Device Detail BizBundle</a></li><ul><li><span class="title-icon "></span><a href="#features"><b>1.1. </b>Features</a></li><li><span class="title-icon "></span><a href="#biz-bundle-integration"><b>1.2. </b>Biz Bundle integration</a></li><ul><li><span class="title-icon "></span><a href="#pod-integration"><b>1.2.1. </b>Pod integration</a></li><li><span class="title-icon "></span><a href="#permission-statement"><b>1.2.2. </b>Permission statement</a></li><li><span class="title-icon "></span><a href="#configuration-file"><b>1.2.3. </b>Configuration file</a></li><li><span class="title-icon "></span><a href="#service-agreement"><b>1.2.4. </b>Service Agreement</a></li><li><span class="title-icon "></span><a href="#service-protocol"><b>1.2.5. </b>Service Protocol</a></li><li><span class="title-icon "></span><a href="#provide-service-method-call"><b>1.2.6. </b>Provide service (method call)</a></li><li><span class="title-icon "></span><a href="#6-custom-sub-function"><b>1.2.7. </b>6. Custom sub-function</a></li></ul></ul></ul></div><a href="#device-detail-bizbundle" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="device-detail-bizbundle"><a name="device-detail-bizbundle" class="anchor-navigation-ex-anchor" href="#device-detail-bizbundle"><i class="fa fa-link" aria-hidden="true"></i></a>1. Device Detail BizBundle</h1>
<h2 id="features"><a name="features" class="anchor-navigation-ex-anchor" href="#features"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Features</h2>
<ul>
<li>Device information editing (device avatar, room, name)</li>
<li>Device information query (ID, signal, etc.)</li>
<li>Alternate network Settings</li>
<li>Offline reminder function</li>
<li>Remove device</li>
<li>Frequently asked questions and feedback (need access to help Center business package)</li>
<li>Check firmware upgrade (OTA business package is required)</li>
</ul>
<h2 id="biz-bundle-integration"><a name="biz-bundle-integration" class="anchor-navigation-ex-anchor" href="#biz-bundle-integration"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Biz Bundle integration</h2>
<h3 id="pod-integration"><a name="pod-integration" class="anchor-navigation-ex-anchor" href="#pod-integration"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.1. Pod integration</h3>
<p>Add the business package component to the project&apos;s &apos;Podfile&apos; file and execute the &apos;pod update&apos; command</p>
<pre class="language-"><code class="lang-ruby">source <span class="token string">&quot;https://github.com/TuyaInc/TuyaPublicSpecs.git&quot;</span>
source <span class="token string">&apos;https://cdn.cocoapods.org/&apos;</span>

target <span class="token string">&apos;your_target_name&apos;</span> <span class="token keyword">do</span>
 <span class="token comment"># Device Detail BizBundle</span>
  pod <span class="token string">&apos;TuyaSmartDeviceDetailBizBundle&apos;</span><span class="token punctuation">,</span> <span class="token string">&apos;~&gt; 3.22.0&apos;</span>
<span class="token keyword">end</span>
</code></pre>
<h3 id="permission-statement"><a name="permission-statement" class="anchor-navigation-ex-anchor" href="#permission-statement"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.2. Permission statement</h3>
<p><strong>Device business package device avatar upload, use of photo albums and cameras, which will involve some Apple&apos;s privacy permission statement.</strong></p>
<p>-Need to add the following permission statement in the project&apos;s <code>info.plist</code>:</p>
<pre class="language-"><code><span class="token comment">&lt;!-- Album --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>NSPhotoLibraryUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>App needs your consent to access the album<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- Camera --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>NSCameraUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>App needs your consent to access the camera<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span>
</code></pre><hr>
<h3 id="configuration-file"><a name="configuration-file" class="anchor-navigation-ex-anchor" href="#configuration-file"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.3. Configuration file</h3>
<ol>
<li><p>Create a new <strong>configList.json</strong> in the main project (the file already exists, no need to create it)</p>
</li>
<li><p>Add in configList.json
key: <strong>deviceDetail</strong>
value: the following array</p>
<pre class="language-"><code class="lang-js"> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;header&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;device_info&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;net_setting&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;section_off_line_warn&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;off_line_warn&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;section_other&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;help_and_feedback&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
       <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;check_device_network&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;check_firmware_update&quot;</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;empty&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;height&quot;</span><span class="token operator">:</span><span class="token number">16</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">{</span>
         <span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;footer&quot;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
</code></pre>
</li>
<li>The content of the configList.json configuration file is roughly as follows<pre class="language-"><code class="lang-js"><span class="token punctuation">{</span>
<span class="token string">&quot;deviceDetail&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;header&quot;</span><span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token string">&quot;Other configuration page key&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
</li>
</ol>
<ol>
<li>Customize device details
Note that the order of the items in the deviceDetail array affects the display order of the items on the device detail page. If the item is removed, the device details page sub-function will also be removed accordingly.</li>
</ol>
<table>
<thead>
<tr>
<th>deviceDetail type</th>
<th>Function point</th>
</tr>
</thead>
<tbody>
<tr>
<td>header</td>
<td>View and modify the device icon, name, location</td>
</tr>
<tr>
<td>device_info</td>
<td>Device Information</td>
</tr>
<tr>
<td>net_setting</td>
<td>Device backup network</td>
</tr>
<tr>
<td>off_line_warn</td>
<td>Device offline reminder</td>
</tr>
<tr>
<td>section_other</td>
<td>Section header, no actual function</td>
</tr>
<tr>
<td>help_and_feedback</td>
<td>FAQ and feedback, need to integrate FAQ and feedback business package</td>
</tr>
<tr>
<td>check_firmware_update</td>
<td>Check firmware upgrade, need to integrate firmware upgrade service package</td>
</tr>
<tr>
<td>empty</td>
<td>empty view, no actual function</td>
</tr>
<tr>
<td>footer</td>
<td>remove device</td>
</tr>
</tbody>
</table>
<h3 id="service-agreement"><a name="service-agreement" class="anchor-navigation-ex-anchor" href="#service-agreement"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.4. Service Agreement</h3>
<h4 id="dependent-service-need-to-be-implemented"><a name="dependent-service-need-to-be-implemented" class="anchor-navigation-ex-anchor" href="#dependent-service-need-to-be-implemented"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dependent-service-need-to-be-implemented" class="plugin-anchor" href="#dependent-service-need-to-be-implemented"><i class="fa fa-link" aria-hidden="true"></i></a>Dependent service (need to be implemented)</h4>
<h5 id="1tysmarthomedataprotocol"><a name="1tysmarthomedataprotocol" class="anchor-navigation-ex-anchor" href="#1tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a><a name="1tysmarthomedataprotocol" class="plugin-anchor" href="#1tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a>1.TYSmartHomeDataProtocol</h5>
<pre class="language-"><code>/**
 To use this API to get the current family, be sure to use the protocol&#x2019;s &#x2018;updateCurrentHomeId:&#x2019; Api when updating the current family id.
 Get the current family, if there is no family, return nil.

 @return TuyaSmartHome
 */
-(TuyaSmartHome *)getCurrentHome;
</code></pre><p>Objective-C example</p>
<pre class="language-"><code class="lang-objective-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TuyaSmartBizCore<span class="token operator">/</span>TuyaSmartBizCore<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TYModuleServices<span class="token operator">/</span>TYSmartHomeDataProtocol<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>


<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initCurrentHome <span class="token punctuation">{</span>
    <span class="token comment">// Register the protocol to be implemented</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> registerService<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYSmartHomeDataProtocol<span class="token punctuation">)</span> withInstance<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Implement the corresponding protocol method</span>
<span class="token operator">-</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>getCurrentHome <span class="token punctuation">{</span>
    TuyaSmartHome <span class="token operator">*</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span><span class="token string">@&quot;current family id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> home<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swfit example</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">import</span> <span class="token builtin">TuyaSmartDeviceKit</span>

<span class="token keyword">class</span> <span class="token class-name">TYMessageCenterTest</span><span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">{</span>


    <span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerService</span><span class="token punctuation">(</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> withInstance<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function">getCurrentHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> home <span class="token operator">=</span> <span class="token builtin">TuyaSmartHome</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>homeId<span class="token punctuation">:</span> <span class="token number">111</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> home
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h3 id="service-protocol"><a name="service-protocol" class="anchor-navigation-ex-anchor" href="#service-protocol"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.5. Service Protocol</h3>
<h4 id="dependent-service-need-to-be-implemented_1"><a name="dependent-service-need-to-be-implemented_1" class="anchor-navigation-ex-anchor" href="#dependent-service-need-to-be-implemented_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="dependent-service-need-to-be-implemented" class="plugin-anchor" href="#dependent-service-need-to-be-implemented"><i class="fa fa-link" aria-hidden="true"></i></a>Dependent service (need to be implemented)</h4>
<h5 id="tysmarthomedataprotocol"><a name="tysmarthomedataprotocol" class="anchor-navigation-ex-anchor" href="#tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a><a name="tysmarthomedataprotocol" class="plugin-anchor" href="#tysmarthomedataprotocol"><i class="fa fa-link" aria-hidden="true"></i></a>TYSmartHomeDataProtocol</h5>
<pre class="language-"><code>/**
 To use this API to get the current family, be sure to use the protocol&#x2019;s &#x2018;updateCurrentHomeId:&#x2019; Api when updating the current family id.
 Get the current family, if there is no family, return nil.

 @return TuyaSmartHome
 */
-(TuyaSmartHome *)getCurrentHome;
</code></pre><p>Objective-C example</p>
<pre class="language-"><code class="lang-objective-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TuyaSmartBizCore<span class="token operator">/</span>TuyaSmartBizCore<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">import</span> <span class="token expression"><span class="token operator">&lt;</span>TYModuleServices<span class="token operator">/</span>TYSmartHomeDataProtocol<span class="token punctuation">.</span>h<span class="token operator">&gt;</span></span></span>


<span class="token operator">-</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>initCurrentHome <span class="token punctuation">{</span>
    <span class="token comment">// Register the protocol to be implemented</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>TuyaSmartBizCore sharedInstance<span class="token punctuation">]</span> registerService<span class="token punctuation">:</span><span class="token keyword">@protocol</span><span class="token punctuation">(</span>TYSmartHomeDataProtocol<span class="token punctuation">)</span> withInstance<span class="token punctuation">:</span><span class="token keyword">self</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Implement the corresponding protocol method</span>
<span class="token operator">-</span><span class="token punctuation">(</span>TuyaSmartHome <span class="token operator">*</span><span class="token punctuation">)</span>getCurrentHome <span class="token punctuation">{</span>
    TuyaSmartHome <span class="token operator">*</span>home <span class="token operator">=</span> <span class="token punctuation">[</span>TuyaSmartHome homeWithHomeId<span class="token punctuation">:</span><span class="token string">@&quot;current family id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> home<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Swfit example</p>
<pre class="language-"><code class="lang-swift"><span class="token keyword">import</span> <span class="token builtin">TuyaSmartDeviceKit</span>

<span class="token keyword">class</span> <span class="token class-name">TYMessageCenterTest</span><span class="token punctuation">:</span> <span class="token builtin">NSObject</span><span class="token punctuation">,</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">{</span>


    <span class="token keyword">func</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin">TuyaSmartBizCore</span><span class="token punctuation">.</span><span class="token function">sharedInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">registerService</span><span class="token punctuation">(</span><span class="token builtin">TYSmartHomeDataProtocol</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">,</span> withInstance<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">func</span> <span class="token function">getCurrentHome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">TuyaSmartHome</span><span class="token operator">!</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> home <span class="token operator">=</span> <span class="token builtin">TuyaSmartHome</span><span class="token punctuation">.</span><span class="token keyword">init</span><span class="token punctuation">(</span>homeId<span class="token punctuation">:</span> <span class="token number">111</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> home
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre>
<h4 id="optional-function-implementation"><a name="optional-function-implementation" class="anchor-navigation-ex-anchor" href="#optional-function-implementation"><i class="fa fa-link" aria-hidden="true"></i></a><a name="optional-function-implementation" class="plugin-anchor" href="#optional-function-implementation"><i class="fa fa-link" aria-hidden="true"></i></a>Optional function implementation</h4>
<h4 id="1-ota-function"><a name="1-ota-function" class="anchor-navigation-ex-anchor" href="#1-ota-function"><i class="fa fa-link" aria-hidden="true"></i></a><a name="1-ota-function" class="plugin-anchor" href="#1-ota-function"><i class="fa fa-link" aria-hidden="true"></i></a>1. OTA function</h4>
<p> <strong>Access required</strong>: <a href="../ota/" title="Access OTA Service Package">Access OTA Service Package</a></p>
<h4 id="2-faq-and-feedback-function"><a name="2-faq-and-feedback-function" class="anchor-navigation-ex-anchor" href="#2-faq-and-feedback-function"><i class="fa fa-link" aria-hidden="true"></i></a><a name="2-faq-and-feedback-function" class="plugin-anchor" href="#2-faq-and-feedback-function"><i class="fa fa-link" aria-hidden="true"></i></a>2. FAQ and feedback function</h4>
<p> <strong>Access required</strong>: <a href="../faq/" title="Access Help Center Service Package">Access Help Center Business Package</a></p>
<h3 id="provide-service-method-call"><a name="provide-service-method-call" class="anchor-navigation-ex-anchor" href="#provide-service-method-call"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.6. Provide service (method call)</h3>
<table>
<thead>
<tr>
<th>Method</th>
<th style="text-align:center">Parameters</th>
</tr>
</thead>
<tbody>
<tr>
<td> Jump to network detection page</td>
<td style="text-align:center">device id</td>
</tr>
<tr>
<td>Jump to the device details page and push</td>
<td style="text-align:center">TuyaSmartDeviceModel/TuyaSmartGroupModel</td>
</tr>
</tbody>
</table>
<h4 id="oc-sample-code"><a name="oc-sample-code" class="anchor-navigation-ex-anchor" href="#oc-sample-code"><i class="fa fa-link" aria-hidden="true"></i></a><a name="oc-sample-code" class="plugin-anchor" href="#oc-sample-code"><i class="fa fa-link" aria-hidden="true"></i></a>oc sample code</h4>
<pre class="language-"><code>#import &lt;TuyaSmartBizCore/TuyaSmartBizCore.h&gt;
#import &lt;TYModuleServices/TYDeviceDetailProtocol.h&gt;

 id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailProtocol</span><span class="token punctuation">&gt;</span></span> impl = [[TuyaSmartBizCore sharedInstance] serviceOfProtocol:@protocol(TYDeviceDetailProtocol)];

 //Jump to the device network detection page
 [impl gotoDeviceDetailNetworkViewControllerWithDeviceId:@&quot;device id&quot;];


  // Jump to the device details page, use push

  //If it is a device, new TuyaSmartDevice
 TuyaSmartDevice * device = [TuyaSmartDevice deviceWithDeviceId:@&quot;device id&quot;]
  [impl gotoDeviceDetailDetailViewControllerWithDevice: device.deviceModel group: nil];
  //If it is a group, new TuyaSmartGroup
 TuyaSmartGroup * group = [TuyaSmartGroup groupWithGroupId:@&quot;group id&quot;]
   [impl gotoDeviceDetailDetailViewControllerWithDevice: nil group: group.deviceModel];
</code></pre><h4 id="swift-sample-code"><a name="swift-sample-code" class="anchor-navigation-ex-anchor" href="#swift-sample-code"><i class="fa fa-link" aria-hidden="true"></i></a><a name="swift-sample-code" class="plugin-anchor" href="#swift-sample-code"><i class="fa fa-link" aria-hidden="true"></i></a>swift sample code</h4>
<pre class="language-"><code>let impl = TuyaSmartBizCore.sharedInstance().service(of: TYDeviceDetailProtocol.self) as? TYDeviceDetailProtocol
//Jump to the device network detection page
impl?.gotoDeviceDetailNetworkViewController(withDeviceId: &quot;Device id&quot;)

  // Jump to the device details page, use push

  //If it is a device, new TuyaSmartDevice
  let device = TuyaSmartDevice.init(deviceId: &quot;vdevo160888044089994&quot;)
  impl?.gotoDeviceDetailDetailViewController(withDevice: device?.deviceModel, group: nil)
  //If it is a group, new TuyaSmartGroup
  let group = TuyaSmartGroup.init(groupId: &quot;group id&quot;)
  impl?.gotoDeviceDetailDetailViewController(withDevice: nil, group: group?.groupModel)
</code></pre><h3 id="6-custom-sub-function"><a name="6-custom-sub-function" class="anchor-navigation-ex-anchor" href="#6-custom-sub-function"><i class="fa fa-link" aria-hidden="true"></i></a>1.2.7. 6. Custom sub-function</h3>
<h4 id="1-configure-configlistjson"><a name="1-configure-configlistjson" class="anchor-navigation-ex-anchor" href="#1-configure-configlistjson"><i class="fa fa-link" aria-hidden="true"></i></a><a name="1-configure-configlistjson" class="plugin-anchor" href="#1-configure-configlistjson"><i class="fa fa-link" aria-hidden="true"></i></a>1. Configure configList.json</h4>
<p> Insert a custom type in the deviceDetail of the configList.json file. <strong>Note that the type value must start with &quot;c_&quot;</strong>
 For example: insert &quot;c_test_insert&quot;, &quot;c_test_async_insert&quot;</p>
<pre class="language-"><code> {&quot;deviceDetail&quot;: [
     {
            &quot;type&quot;:&quot;c_test_insert&quot;
        },
        {
            &quot;type&quot;:&quot;c_test_async_insert&quot;
        },
        {
            &quot;type&quot;:&quot;header&quot;
        },
        {
            &quot;type&quot;: &quot;device_info&quot;
        },
        {
            &quot;type&quot;: &quot;net_setting&quot;
        },
        {
            &quot;type&quot;:&quot;section_off_line_warn&quot;
        },
        {
            &quot;type&quot;:&quot;off_line_warn&quot;
        },
        {
            &quot;type&quot;:&quot;section_other&quot;
        },
        {
            &quot;type&quot;:&quot;help_and_feedback&quot;
        },
        {
            &quot;type&quot;:&quot;check_device_network&quot;
        },
        {
            &quot;type&quot;:&quot;check_firmware_update&quot;
        },
        {
            &quot;type&quot;:&quot;empty&quot;,
            &quot;height&quot;:16
        },
        {
            &quot;type&quot;:&quot;footer&quot;
        }
    ]
  ],}
</code></pre><h4 id="2-return-item-data"><a name="2-return-item-data" class="anchor-navigation-ex-anchor" href="#2-return-item-data"><i class="fa fa-link" aria-hidden="true"></i></a><a name="2-return-item-data" class="plugin-anchor" href="#2-return-item-data"><i class="fa fa-link" aria-hidden="true"></i></a>2. Return item data</h4>
<h5 id="interface-description-return-item-data-synchronously"><a name="interface-description-return-item-data-synchronously" class="anchor-navigation-ex-anchor" href="#interface-description-return-item-data-synchronously"><i class="fa fa-link" aria-hidden="true"></i></a><a name="interface-description-return-item-data-synchronously" class="plugin-anchor" href="#interface-description-return-item-data-synchronously"><i class="fa fa-link" aria-hidden="true"></i></a>Interface description: return item data synchronously</h5>
<pre class="language-"><code>  /// Settings-&quot;Synchronous processing of item insertion callbacks. insertDevMenuItemBlock will call back when the device details are refreshed
-(void)insertDevMenuItem:(InsertDevMenuItemBlock) insertDevMenuItemBlock;
</code></pre><pre class="language-"><code>
//@param type configList.json added type
//@param device device model
//@param group group model. According to whether the group is nil, to judge the device or the group
//@return An object that complies with the TYDeviceDetailCustomMenuModel protocol. Return nil, the item of this type will not be displayed
typedef id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailCustomMenuModel</span><span class="token punctuation">&gt;</span></span> _Nullable (^InsertDevMenuItemBlock)(NSString* _Nonnull type,
                                                                           TuyaSmartDeviceModel* _Nullable device,
                                                                           TuyaSmartGroupModel* _Nullable group);
</code></pre><h5 id="interface-description-asynchronous-callback-item-data"><a name="interface-description-asynchronous-callback-item-data" class="anchor-navigation-ex-anchor" href="#interface-description-asynchronous-callback-item-data"><i class="fa fa-link" aria-hidden="true"></i></a><a name="interface-description-asynchronous-callback-item-data" class="plugin-anchor" href="#interface-description-asynchronous-callback-item-data"><i class="fa fa-link" aria-hidden="true"></i></a>Interface description: Asynchronous callback item data</h5>
<pre class="language-"><code>  /// Settings-&quot;Asynchronous processing of item insertion callbacks, insertDevMenuItemAsyncBlock will call back when the device details are refreshed
-(void)insertDevMenuItemAsync:(InsertDevMenuItemAsyncBlock) insertDevMenuItemAsyncBlock;
</code></pre><pre class="language-"><code> //Process item insertion asynchronously. When the asynchronous operation ends, call complete(id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailCustomMenuMode</span><span class="token punctuation">&gt;</span></span>), call back the data to the device details, and refresh the list.
typedef void (^InsertDevMenuItemAsyncBlock)(NSString* _Nonnull type,
                                            TuyaSmartDeviceModel* _Nullable device,
                                            TuyaSmartGroupModel* _Nullable group,
                                            InsertDevMenuItemComplete _Nonnull complete);
</code></pre><h5 id="sample-code"><a name="sample-code" class="anchor-navigation-ex-anchor" href="#sample-code"><i class="fa fa-link" aria-hidden="true"></i></a><a name="sample-code" class="plugin-anchor" href="#sample-code"><i class="fa fa-link" aria-hidden="true"></i></a>Sample Code</h5>
<p>  <strong>First step: Create a new Model class first, comply with the TYDeviceDetailCustomMenuModel protocol</strong></p>
<p>  <strong>oc</strong></p>
<pre class="language-"><code>  //Customize a class to comply with the TYDeviceDetailCustomMenuModel protocol
 @interface CustomMenuModel: NSObject<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailCustomMenuModel</span><span class="token punctuation">&gt;</span></span>
///title
@property (nonatomic,copy) NSString *title;
///Subtitle
@property (nonatomic,copy) NSString *detail;
@end

@implementation CustomMenuModel
@end
</code></pre><p><strong>swift</strong></p>
<pre class="language-"><code>class CustomMenuModel: NSObject, TYDeviceDetailCustomMenuModel{
    var title: String?
    var detail: String?
}
</code></pre><p><strong>Step 2: Set the data callback block</strong></p>
<p><strong>oc</strong></p>
<pre class="language-"><code>   id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailProtocol</span><span class="token punctuation">&gt;</span></span> impl = [[TuyaSmartBizCore sharedInstance] serviceOfProtocol:@protocol(TYDeviceDetailProtocol)];

        [impl insertDevMenuItem:^ id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailCustomMenuModel</span><span class="token punctuation">&gt;</span></span> (NSString * _Nonnull type, TuyaSmartDeviceModel * _Nonnull device, TuyaSmartGroupModel * _Nonnull group) {
            if ([type isEqualToString:@&quot;c_test_insert&quot;]) {
                CustomMenuModel *model = [CustomMenuModel new];
                if (group) {//Judging whether the device is a group or not according to whether the group is nil
                    model.title = type;
                    model.detail = @&quot;group&quot;;
                }else{
                    model.title = type;
                    model.detail = @&quot;device&quot;;
                }
                return model;
            }
            return nil;
        }];

        [impl insertDevMenuItemAsync:^(NSString * _Nonnull type, TuyaSmartDeviceModel * _Nonnull device, TuyaSmartGroupModel * _Nonnull group, InsertDevMenuItemComplete _Nonnull complete) {
            if ([type isEqualToString:@&quot;c_test_async_insert&quot;]) {
            //Time-consuming operation
            dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
                CustomMenuModel *model = [CustomMenuModel new];
                if (group) {//Judging whether the device is a group or not according to whether the group is nil
                    model.title = type;
                    model.detail = @&quot;group&quot;;
                }else{
                    model.title = type;
                    model.detail = @&quot;device&quot;;
                }
                complete(model);
            });
            }

        }];
</code></pre><p><strong>swift</strong></p>
<pre class="language-"><code>   let impl = TuyaSmartBizCore.sharedInstance().service(of: TYDeviceDetailProtocol.self) as? TYDeviceDetailProtocol

    impl?.insertDevMenuItem({ (type, deviceModel, groupModel) -&gt; TYDeviceDetailCustomMenuModel? in
            if type == &quot;c_test_insert&quot; {//According to whether the group is nil, to determine whether the device or the group
                let model = CustomMenuModel.init()
                if groupModel != nil {
                    model.title = type
                    model.detail = &quot;group&quot;
                }else{
                    model.title = type
                    model.detail = &quot;device&quot;
                }
                return model;
            }
            return nil;
        })

impl?.insertDevMenuItemAsync({ (type, deviceModel, groupModel, complete) in
            if type == &quot;c_test_async_insert&quot; {
                //Time-consuming operation
                DispatchQueue.main.asyncAfter(deadline: .now() + 3) {
                    let model = CustomMenuModel.init()
                    if groupModel != nil {
                        model.title = type
                        model.detail = &quot;group&quot;
                    }else{
                        model.title = type
                        model.detail = &quot;device&quot;
                    }
                    complete(model);
                }
            }
        });
</code></pre><h4 id="3-insert-item-click-event-processing"><a name="3-insert-item-click-event-processing" class="anchor-navigation-ex-anchor" href="#3-insert-item-click-event-processing"><i class="fa fa-link" aria-hidden="true"></i></a><a name="3-insert-item-click-event-processing" class="plugin-anchor" href="#3-insert-item-click-event-processing"><i class="fa fa-link" aria-hidden="true"></i></a>3. Insert item click event processing</h4>
<h5 id="oc-sample-code_1"><a name="oc-sample-code_1" class="anchor-navigation-ex-anchor" href="#oc-sample-code_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="oc-sample-code" class="plugin-anchor" href="#oc-sample-code"><i class="fa fa-link" aria-hidden="true"></i></a>oc sample code</h5>
<pre class="language-"><code>      id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TYDeviceDetailProtocol</span><span class="token punctuation">&gt;</span></span> impl = [[TuyaSmartBizCore sharedInstance] serviceOfProtocol:@protocol(TYDeviceDetailProtocol)];
        [impl clickMenuItem: ^(NSString * _Nonnull type, TuyaSmartDeviceModel * _Nonnull device, TuyaSmartGroupModel * _Nonnull group) {
            NSLog(@&quot;clickItem: type:%@&quot;,type);
        }];
</code></pre><h5 id="swift-sample-code_1"><a name="swift-sample-code_1" class="anchor-navigation-ex-anchor" href="#swift-sample-code_1"><i class="fa fa-link" aria-hidden="true"></i></a><a name="swift-sample-code" class="plugin-anchor" href="#swift-sample-code"><i class="fa fa-link" aria-hidden="true"></i></a>swift sample code</h5>
<pre class="language-"><code> let impl = TuyaSmartBizCore.sharedInstance().service(of: TYDeviceDetailProtocol.self) as? TYDeviceDetailProtocol

  impl?.clickMenuItem({ (type, deviceModel, groupModel) in
            print(&quot;clickItem: type:&quot;+type);
    })
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../ota/" class="navigation navigation-prev " aria-label="Previous page: OTA">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../faq.html" class="navigation navigation-next " aria-label="Next page: FAQ">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Device Detail","level":"1.4.11","depth":2,"next":{"title":"FAQ","level":"1.5","depth":1,"path":"pages/faq.md","ref":"./pages/faq.md","articles":[]},"previous":{"title":"OTA","level":"1.4.10","depth":2,"path":"pages/ota/README.md","ref":"./pages/ota/README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["addcssjs","richquotes","prism","-hightlight","anchors","js-sequence-diagram-full@>=0.3.1","splitter","github","anchor-navigation-ex","expandable-chapters-small","pageview-count","language-picker","hide-element"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism.css"],"lang":{"oc":"objectivec","objc":"objectivec","objective-c":"objectivec"},"ignore":[]},"language-picker":{"grid-columns":3},"github":{"url":"https://github.com/TuyaInc/tuyasmart_bizbundle_ios_doc"},"splitter":{},"search":{},"addcssjs":{"css":[],"js":["../scripts/mermaid.min.js","../scripts/index.js"]},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"richquotes":{},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":true,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"pageview-count":{},"expandable-chapters-small":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"pages/device_detail/README.md","mtime":"2021-03-12T03:17:09.141Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-03-12T03:18:11.324Z"},"basePath":"../..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    
    <script type="text/javascript" src="../../../scripts/mermaid.min.js"></script>
    
    <script type="text/javascript" src="../../../scripts/index.js"></script>
    

    </body>
</html>

